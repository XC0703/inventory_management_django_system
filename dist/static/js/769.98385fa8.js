"use strict";(self["webpackChunkinventory_management_system"]=self["webpackChunkinventory_management_system"]||[]).push([[769],{6769:function(e,s,r){r.r(s),r.d(s,{default:function(){return h}});var a=r(3396);const l=e=>((0,a.dD)("data-v-65c47e02"),e=e(),(0,a.Cn)(),e),o={class:"bgContainer"},m={class:"wrapper"},i=l((()=>(0,a._)("div",{class:"wrapper__logintext"},[(0,a._)("h2",null,"Welcome")],-1))),u={class:"wrapper__input"},n=l((()=>(0,a._)("div",null,null,-1)));function t(e,s,r,l,t,d){const c=(0,a.up)("el-input"),p=(0,a.up)("el-form-item"),g=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",m,[i,(0,a._)("div",u,[(0,a.Wm)(g,{ref:"form",model:t.form,rules:t.rules},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{prop:"userName"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:t.form.userName,"onUpdate:modelValue":s[0]||(s[0]=e=>t.form.userName=e),clearable:"",placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(p,{prop:"passWord"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:t.form.passWord,"onUpdate:modelValue":s[1]||(s[1]=e=>t.form.passWord=e),clearable:"",placeholder:"请输入密码","show-passWord":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(p,{prop:"confirmPas"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:t.form.confirmPas,"onUpdate:modelValue":s[2]||(s[2]=e=>t.form.confirmPas=e),clearable:"",placeholder:"确认密码","show-passWord":""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])]),(0,a._)("div",{class:"wrapper__login-button",onClick:s[3]||(s[3]=e=>d.handleRegister(t.form))},"注册"),(0,a._)("div",{class:"wrapper__login-link",onClick:s[4]||(s[4]=(...e)=>d.handleLoginClick&&d.handleLoginClick(...e))},"已有账号，返回登录")]),n])}r(7658);var d=r(1120),c=r(435),p={name:"RegisterView",data(){return{form:{userName:"",passWord:"",confirmPas:""},rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{max:15,message:"不能大于15个字符",trigger:"blur"}],passWord:[{required:!0,message:"请输入密码",trigger:"blur"},{max:20,message:"不能大于20个字符",trigger:"blur"}]}}},methods:{async handleRegister(e){try{let s="",r={userId:"",userName:"",userPassword:"",userPower:"",createTime:"",updateTime:""};if(""==e.userName||""==e.passWord||""==e.confirmPas)return void this.$message.info("请输入用户名或密码");e.confirmPas!=e.passWord?this.$message.info("两次密码输入不一致，请重新输入"):(r.userId="后端处理userId",r.userName=e.userName,r.userPassword=e.passWord,r.userPower="默认注册低权限用户",r.createTime="后端处理createTime",r.updateTime="后端处理updateTime",s=await(0,c.v)("miserauth/register",r),"success"===s?.msg?(d.Z.push({name:"LoginView"}),this.$message.success("注册成功")):"用户名或密码过长"===s?.msg?this.$message.info("用户名或密码过长,请重新注册"):"用户已存在"===s?.msg?this.$message.info("用户已存在,请重新注册"):this.$message.error("注册失败"))}catch(s){this.$message.error("注册失败")}},async handleLoginClick(){d.Z.push({name:"LoginView"})}}},g=r(89);const f=(0,g.Z)(p,[["render",t],["__scopeId","data-v-65c47e02"]]);var h=f}}]);
//# sourceMappingURL=769.98385fa8.js.map